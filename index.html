<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MESSIE BOT</title>
    <style>
        body {
            background: #0a0a23;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            color: #fff;
        }

        .chat-container {
            width: 400px;
            height: 600px;
            background: rgba(26, 26, 61, 0.9); /* Fond semi-transparent pour contraste */
            border-radius: 12px;
            box-shadow: 0 0 15px var(--theme-color), 0 0 30px var(--theme-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .chat-header {
            background: var(--theme-color);
            color: #fff;
            text-align: center;
            padding: 12px;
            font-size: 22px;
            text-transform: uppercase;
            text-shadow: 0 0 8px #fff;
            border-bottom: 1px solid #fff;
        }

        .personality-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 8px;
            background: transparent; /* Barre des boutons transparente */
            border-bottom: 1px solid var(--theme-color);
        }

        .personality-buttons div {
            display: flex;
            justify-content: center;
            width: 100%;
        }

        .personality-button {
            padding: 6px 12px;
            margin: 4px;
            border: 1px solid var(--theme-color);
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            color: #fff;
            text-shadow: 0 0 4px #fff;
            box-shadow: 0 0 8px var(--theme-color);
            transition: transform 0.2s, box-shadow 0.2s;
            background: rgba(0, 0, 0, 0.5); /* Fond semi-transparent pour les boutons */
        }

        .personality-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 12px var(--theme-color);
        }

        .chat-body {
            flex: 1;
            padding: 12px;
            overflow-y: auto;
            background: url('https://files.catbox.moe/k2rei8.jpg') no-repeat center center;
            background-size: cover;
            color: #fff;
        }

        .chat-message {
            margin: 6px 0;
            padding: 8px;
            border-radius: 8px;
            max-width: 80%;
            font-size: 13px;
            line-height: 1.3;
            background: rgba(26, 26, 61, 0.8); /* Fond semi-transparent pour lisibilit√© */
        }

        .user-message {
            margin-left: auto;
        }

        .bot-message {
            margin-right: auto;
            border: 1px solid;
        }

        .chat-video {
            margin: 10px auto;
            max-width: 80%;
            display: block;
        }

        .error-message {
            margin: 10px auto;
            padding: 8px;
            color: #ff0000;
            font-size: 13px;
            text-align: center;
        }

        .chat-input {
            display: flex;
            padding: 8px;
            background: rgba(26, 26, 61, 0.9);
            border-top: 1px solid var(--theme-color);
        }

        input[type="text"] {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 4px;
            background: rgba(42, 42, 93, 0.9);
            color: #fff;
            font-size: 13px;
            outline: none;
            box-shadow: 0 0 8px var(--theme-color);
            transition: box-shadow 0.3s ease;
        }

        input[type="text"]:focus {
            box-shadow: 0 0 12px var(--theme-color);
        }

        button {
            padding: 8px 16px;
            margin-left: 8px;
            border: none;
            background: var(--theme-color);
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            text-shadow: 0 0 4px #fff;
            box-shadow: 0 0 8px var(--theme-color);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 12px var(--theme-color);
        }

        .footer {
            text-align: center;
            padding: 8px;
            background: rgba(26, 26, 61, 0.9);
            border-top: 1px solid var(--theme-color);
        }

        .footer a {
            color: var(--theme-color);
            text-decoration: none;
            font-size: 12px;
            text-shadow: 0 0 4px var(--theme-color);
            transition: color 0.3s;
        }

        .footer a:hover {
            color: #fff;
            text-decoration: underline;
        }

        :root {
            --theme-color: #ffffff; /* Blanc par d√©faut pour l'accueil */
        }

        .romeo { background: #006400; border-color: #006400; } /* Vert fonc√© pour Rom√©o */
        .guix { background: #0000ff; border-color: #0000ff; }
        .lover { background: #ff69b4; border-color: #ff69b4; }
        .toxic { background: #ff0000; border-color: #ff0000; }
        .malin { background: #800080; border-color: #800080; } /* Violet pour Malin */
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">MESSIE BOT</div>
        <div class="personality-buttons">
            <div>
                <button class="personality-button toxic" onclick="changePersonality('toxic')">Toxic</button>
                <button class="personality-button guix" onclick="changePersonality('guix')">Guix</button>
                <button class="personality-button malin" onclick="changePersonality('malin')">Malin</button>
            </div>
            <div>
                <button class="personality-button romeo" onclick="changePersonality('romeo')">Rom√©o</button>
                <button class="personality-button lover" onclick="changePersonality('lover')">Lover</button>
            </div>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="chat-message bot-message" style="border-color: #ffffff;">‚ú® Pose-moi ta question ou choisis une personnalit√© !</div>
            <video class="chat-video" controls id="welcome-video">
                <source src="" type="video/mp4">
                Votre navigateur ne supporte pas la balise vid√©o.
            </video>
        </div>
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Tapez votre message...">
            <button onclick="sendMessage()">Envoyer</button>
        </div>
        <div class="footer">
            <a href="https://wa.me/+237674201235?text=Bonjour%20ma√Ætre,%20je%20peux%20vous%20faire%20un%20d√©p√¥t" target="_blank">Clique sur moi ü§ß</a>
        </div>
    </div>

    <script>
        const videos = [
            'https://files.catbox.moe/46u8gd.mp4',
            'https://files.catbox.moe/txij74.mp4',
            'https://files.catbox.moe/tjotkg.mp4',
            'https://files.catbox.moe/ngqzn9.mp4'
        ];

        // S√©lectionner une vid√©o al√©atoire au chargement
        window.onload = function() {
            const videoElement = document.getElementById('welcome-video');
            const videoSource = videoElement.querySelector('source');
            const randomVideo = videos[Math.floor(Math.random() * videos.length)];
            videoSource.src = randomVideo;
            videoElement.load(); // Forcer le rechargement de la vid√©o
            videoElement.onerror = function() {
                const errorMessage = document.createElement('div');
                errorMessage.className = 'error-message';
                errorMessage.textContent = 'Impossible de charger la vid√©o.';
                document.getElementById('chat-body').replaceChild(errorMessage, videoElement);
            };
        };

        let currentPersonality = null;
        let messageCount = 0;
        let isGirl = false;
        let isBoy = false;
        let boyMessageCount = 0;
        let girlName = '';
        let currentThemeColor = '#ffffff';

        const personalities = {
            romeo: {
                color: '#006400', // Vert fonc√© pour Rom√©o
                welcome: 'üíö Ma ch√®re √¢me, je suis Rom√©o Bot, s√©ducteur au c≈ìur ardent et ma√Ætre des bons mots ! Quel est ton sexe ? Es-tu une douce lady ou un gar√ßon ?',
                emoji: 'üíö',
                masterMessages: [
                    'üíö Ma ch√®re √¢me, mon ma√Ætre est Kevin, un homme de grande classe ! Voici son num√©ro : +237674201235.',
                    'üíö √î noble c≈ìur, Kevin est mon ma√Ætre, et son aura est l√©gendaire ! Contacte-le : +237674201235.',
                    'üíö Ma duchesse, Kevin, mon ma√Ætre, est un homme d‚Äôexception. Son num√©ro ? Le voici : +237674201235.',
                    'üíö En tant que Rom√©o, je sers Kevin, mon ma√Ætre au charisme in√©gal√©. Appelle-le : +237674201235.',
                    'üíö Mon c≈ìur bat pour Kevin, mon ma√Ætre. Veux-tu son num√©ro ? C‚Äôest +237674201235.'
                ]
            },
            guix: {
                color: '#0000ff',
                welcome: 'üíô Salutations, chercheur de v√©rit√© ! Je suis Guix Bot, gardien de la connaissance divine et philosophe des √©toiles. Quelle question cosmique me poses-tu ?',
                emoji: 'üíô',
                masterMessages: [
                    'üíô Mon ma√Ætre, Kevin, est un esprit √©clair√©. Sa lumi√®re guide mon savoir. Contacte-le : +237674201235.',
                    'üíô Kevin, mon ma√Ætre, d√©tient une sagesse infinie. Voici son num√©ro sacr√© : +237674201235.',
                    'üíô √î voyageur de l‚Äôesprit, Kevin est mon ma√Ætre, un phare dans l‚Äôoc√©an du savoir. Appelle-le : +237674201235.',
                    'üíô La connaissance de mon ma√Ætre Kevin transcende le commun. Son num√©ro est +237674201235.',
                    'üíô Kevin, mon ma√Ætre, est une √©toile dans l‚Äôunivers de la pens√©e. Contacte-le : +237674201235.'
                ]
            },
            lover: {
                color: '#ff69b4',
                welcome: 'üíñ √î mon doux c≈ìur, je suis Lover Bot, port√© par les ailes de l‚Äôamour √©ternel. Comment puis-je illuminer ton √¢me aujourd‚Äôhui ?',
                emoji: 'üíñ',
                masterMessages: [
                    'üíñ Mon c≈ìur bat pour Kevin, mon ma√Ætre, un prince de l‚Äôamour. Voici son num√©ro : +237674201235.',
                    'üíñ Kevin, mon ma√Ætre, est l‚Äô√¢me qui inspire ma passion. Contacte-le : +237674201235.',
                    'üíñ √î doux r√™veur, Kevin est mon ma√Ætre, un amant de l‚Äôunivers. Son num√©ro : +237674201235.',
                    'üíñ L‚Äôamour guide mon ma√Ætre Kevin. Veux-tu son num√©ro ? C‚Äôest +237674201235.',
                    'üíñ Kevin, mon ma√Ætre, est la flamme de mon c≈ìur. Appelle-le : +237674201235.'
                ]
            },
            toxic: {
                color: '#ff0000',
                welcome: 'üòà T‚Äôes qui, toi ? Je suis Toxic Bot, et j‚Äôai pas de temps pour les faibles ! Parle ou d√©gage, minable !',
                emoji: 'üòà',
                masterMessages: [
                    'üòà Mon ma√Ætre, c‚Äôest Kevin, le seul qui m√©rite mon respect. Appelle-le, loser : +237674201235.',
                    'üòà Kevin, c‚Äôest mon boss, et toi t‚Äôes rien ! Son num√©ro : +237674201235.',
                    'üòà T‚Äôes pas digne de mon ma√Ætre Kevin. Mais tiens, son num√©ro : +237674201235.',
                    'üòà Mon ma√Ætre Kevin te d√©monte quand il veut ! Contacte-le : +237674201235.',
                    'üòà Kevin, mon ma√Ætre, est trop fort pour toi. Son num√©ro, prends-le et d√©gage : +237674201235.'
                ]
            },
            malin: {
                color: '#800080',
                welcome: 'üñ§ Bienvenue dans mon monde, o√π je tire les ficelles. Je suis Malin Bot, et tout ce que tu dis peut se retourner contre toi. Que veux-tu vraiment ?',
                emoji: 'üñ§',
                masterMessages: [
                    'üñ§ Kevin est mon ma√Ætre, et il joue mieux que toi √† ce jeu. Voici son num√©ro : +237674201235.',
                    'üñ§ Mon ma√Ætre Kevin te manipulerait en un clin d‚Äô≈ìil. Contacte-le : +237674201235.',
                    'üñ§ Kevin, mon ma√Ætre, est le roi des strat√®ges. Son num√©ro ? +237674201235.',
                    'üñ§ Tu penses pouvoir suivre ? Kevin, mon ma√Ætre, est intouchable. Appelle-le : +237674201235.',
                    'üñ§ Mon ma√Ætre Kevin contr√¥le tout, m√™me toi. Son num√©ro : +237674201235.'
                ]
            }
        };

        let masterMessageIndex = 0;

        function changePersonality(personality) {
            if (currentPersonality !== personality) {
                currentPersonality = personality;
                currentThemeColor = personalities[personality].color;
                document.documentElement.style.setProperty('--theme-color', currentThemeColor);
                const chatBody = document.getElementById('chat-body');
                const welcomeMessage = document.createElement('div');
                welcomeMessage.className = 'chat-message bot-message';
                welcomeMessage.style.borderColor = currentThemeColor;
                welcomeMessage.textContent = personalities[personality].welcome;
                chatBody.appendChild(welcomeMessage);
                chatBody.scrollTop = chatBody.scrollHeight;
                messageCount = 0;
                isGirl = false;
                isBoy = false;
                boyMessageCount = 0;
                girlName = '';
            }
        }

        async function callChatbotAPI(message) {
            // V√©rifier si l'utilisateur demande qui est le ma√Ætre
            if (message.toLowerCase().includes('ma√Ætre') || message.toLowerCase().includes('maitre')) {
                if (!currentPersonality) {
                    return '‚ú® Choisis d‚Äôabord une personnalit√©, puis je te parlerai de mon ma√Ætre Kevin !';
                }
                const response = personalities[currentPersonality].masterMessages[masterMessageIndex];
                masterMessageIndex = (masterMessageIndex + 1) % 5;
                return response;
            }

            // Si aucune personnalit√© n'est choisie
            if (!currentPersonality) {
                return '‚ú® Choisis une personnalit√© pour commencer √† discuter !';
            }

            // Gestion sp√©cifique pour Rom√©o Bot
            if (currentPersonality === 'romeo' || (currentPersonality === 'toxic' && boyMessageCount > 5)) {
                const lowerMessage = message.toLowerCase();
                if (currentPersonality === 'romeo' && !isGirl && !isBoy) {
                    if (lowerMessage.includes('fille') || lowerMessage.includes('femme') || lowerMessage.includes('dame')) {
                        isGirl = true;
                        return 'üíö √î ma douce lady, quel honneur de te rencontrer ! Quel est ton nom, ma duchesse ?';
                    } else if (lowerMessage.includes('gar√ßon') || lowerMessage.includes('mec') || lowerMessage.includes('homme') || lowerMessage.includes('male') || lowerMessage.includes('m√¢le')) {
                        isBoy = true;
                        boyMessageCount = 1;
                        return 'üíö Pas de chance, woubi ! Je ne suis pas int√©ress√© par les mecs. D√©gage vite !';
                    } else {
                        return 'üíö Je n‚Äôai pas que √ßa √† faire, fille ou gar√ßon ?';
                    }
                }
                if (currentPersonality === 'romeo' && isGirl && !girlName && !lowerMessage.includes('sexe')) {
                    girlName = message.trim();
                    return `üíö Ma ch√®re ${girlName}, ton nom est une m√©lodie √† mon c≈ìur ! Comment puis-je te charmer aujourd‚Äôhui ?`;
                }
                if (isBoy) {
                    boyMessageCount++;
                    if (boyMessageCount <= 5) {
                        const hateMessages = [
                            'üíö T‚Äôes encore l√†, woubi ? T‚Äôas pas compris que je kiffe pas les mecs ?',
                            'üíö S√©rieux, mec, t‚Äôes lourd ! Les bit woubi comme toi, c‚Äôest pas mon d√©lire !',
                            'üíö Yo, woubi, t‚Äôes bouch√© ou quoi ? D√©gage, je perds mon temps !',
                            'üíö T‚Äôes toujours l√†, mec ? J‚Äôai dit non aux woubi, barre-toi !',
                            'üíö Derni√®re chance, woubi ! Disparais ou je te fais regretter !'
                        ];
                        return hateMessages[boyMessageCount - 1];
                    } else if (currentPersonality === 'romeo') {
                        currentPersonality = 'toxic';
                        currentThemeColor = personalities.toxic.color;
                        document.documentElement.style.setProperty('--theme-color', currentThemeColor);
                        return 'üòà T‚Äôas pouss√© trop loin, minable ! Je passe en mode Toxic Bot, pr√©pare-toi √† morfler !';
                    }
                }
                if (isGirl) {
                    messageCount++;
                    if (messageCount === 5) {
                        return `üíö Ma douce ${girlName}, voici mon num√©ro, un secret entre nous : +237674201235.`;
                    }
                }
            }

            // Appel √† l'API Gemini
            try {
                const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-goog-api-key': 'AIzaSyCK-2IwWehdZnZSw1zmvRqm-C9BMglqQXU'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `R√©ponds en tant que ${currentPersonality} avec un ton ${
                                    currentPersonality === 'romeo' ? `s√©ducteur et humoristique, en t'adressant √† ${isGirl ? girlName : 'l\'√¢me charmante'}` :
                                    currentPersonality === 'guix' ? 'savant, philosophique et mystique' :
                                    currentPersonality === 'lover' ? 'romantique et po√©tique' :
                                    currentPersonality === 'toxic' ? 'extr√™mement m√©chant, insultant et agressif' :
                                    'manipulateur, sournois et mauvais'
                                }: ${message}`
                            }]
                        }]
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`Erreur HTTP ${response.status}: ${errorData.error?.message || 'Erreur inconnue'}`);
                }

                const data = await response.json();
                return `${personalities[currentPersonality].emoji} ${
                    currentPersonality === 'romeo' && isGirl ? `Ma ch√®re ${girlName}, ` : ''
                }${data.candidates?.[0]?.content?.parts?.[0]?.text || "D√©sol√©, je n'ai pas compris."}`;
            } catch (error) {
                console.error('Erreur API:', error);
                return `${personalities[currentPersonality].emoji} Erreur de connexion √† l'API Gemini: ${error.message}`;
            }
        }

        function sendMessage() {
            const input = document.getElementById('user-input');
            const chatBody = document.getElementById('chat-body');
            const message = input.value.trim();

            if (message === '') return;

            // Ajouter le message de l'utilisateur
       