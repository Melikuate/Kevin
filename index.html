<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MESSIE BOT</title>
    <style>
        body {
            background: #0a0a23;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            color: #fff;
        }

        .chat-container {
            width: 400px;
            height: 600px;
            background: rgba(26, 26, 61, 0.9); /* Fond semi-transparent pour contraste */
            border-radius: 12px;
            box-shadow: 0 0 15px var(--theme-color), 0 0 30px var(--theme-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .chat-header {
            background: var(--theme-color);
            color: #fff;
            text-align: center;
            padding: 12px;
            font-size: 22px;
            text-transform: uppercase;
            text-shadow: 0 0 8px #fff;
            border-bottom: 1px solid #fff;
        }

        .personality-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 8px;
            background: transparent; /* Barre des boutons transparente */
            border-bottom: 1px solid var(--theme-color);
        }

        .personality-buttons div {
            display: flex;
            justify-content: center;
            width: 100%;
        }

        .personality-button {
            padding: 6px 12px;
            margin: 4px;
            border: 1px solid var(--theme-color);
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            color: #fff;
            text-shadow: 0 0 4px #fff;
            box-shadow: 0 0 8px var(--theme-color);
            transition: transform 0.2s, box-shadow 0.2s;
            background: rgba(0, 0, 0, 0.5); /* Fond semi-transparent pour les boutons */
        }

        .personality-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 12px var(--theme-color);
        }

        .chat-body {
            flex: 1;
            padding: 12px;
            overflow-y: auto;
            background: url('https://files.catbox.moe/k2rei8.jpg') no-repeat center center;
            background-size: cover;
            color: #fff;
        }

        .chat-message {
            margin: 6px 0;
            padding: 8px;
            border-radius: 8px;
            max-width: 80%;
            font-size: 13px;
            line-height: 1.3;
            background: rgba(26, 26, 61, 0.8); /* Fond semi-transparent pour lisibilitÃ© */
        }

        .user-message {
            margin-left: auto;
        }

        .bot-message {
            margin-right: auto;
            border: 1px solid;
        }

        .chat-video {
            margin: 10px auto;
            max-width: 80%;
            display: block;
        }

        .error-message {
            margin: 10px auto;
            padding: 8px;
            color: #ff0000;
            font-size: 13px;
            text-align: center;
        }

        .chat-input {
            display: flex;
            padding: 8px;
            background: rgba(26, 26, 61, 0.9);
            border-top: 1px solid var(--theme-color);
        }

        input[type="text"] {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 4px;
            background: rgba(42, 42, 93, 0.9);
            color: #fff;
            font-size: 13px;
            outline: none;
            box-shadow: 0 0 8px var(--theme-color);
            transition: box-shadow 0.3s ease;
        }

        input[type="text"]:focus {
            box-shadow: 0 0 12px var(--theme-color);
        }

        button {
            padding: 8px 16px;
            margin-left: 8px;
            border: none;
            background: var(--theme-color);
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            text-shadow: 0 0 4px #fff;
            box-shadow: 0 0 8px var(--theme-color);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 12px var(--theme-color);
        }

        .footer {
            text-align: center;
            padding: 8px;
            background: rgba(26, 26, 61, 0.9);
            border-top: 1px solid var(--theme-color);
        }

        .footer a {
            color: var(--theme-color);
            text-decoration: none;
            font-size: 12px;
            text-shadow: 0 0 4px var(--theme-color);
            transition: color 0.3s;
        }

        .footer a:hover {
            color: #fff;
            text-decoration: underline;
        }

        :root {
            --theme-color: #ffffff; /* Blanc par dÃ©faut pour l'accueil */
        }

        .romeo { background: #006400; border-color: #006400; } /* Vert foncÃ© pour RomÃ©o */
        .guix { background: #0000ff; border-color: #0000ff; }
        .lover { background: #ff69b4; border-color: #ff69b4; }
        .toxic { background: #ff0000; border-color: #ff0000; }
        .malin { background: #800080; border-color: #800080; } /* Violet pour Malin */
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">MESSIE BOT</div>
        <div class="personality-buttons">
            <div>
                <button class="personality-button toxic" onclick="changePersonality('toxic')">Toxic</button>
                <button class="personality-button guix" onclick="changePersonality('guix')">Guix</button>
                <button class="personality-button malin" onclick="changePersonality('malin')">Malin</button>
            </div>
            <div>
                <button class="personality-button romeo" onclick="changePersonality('romeo')">RomÃ©o</button>
                <button class="personality-button lover" onclick="changePersonality('lover')">Lover</button>
            </div>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="chat-message bot-message" style="border-color: #ffffff;">âœ¨ Pose-moi ta question ou choisis une personnalitÃ© !</div>
            <video class="chat-video" controls id="welcome-video">
                <source src="" type="video/mp4">
                Votre navigateur ne supporte pas la balise vidÃ©o.
            </video>
        </div>
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Tapez votre message...">
            <button onclick="sendMessage()">Envoyer</button>
        </div>
        <div class="footer">
            <a href="https://wa.me/+237674201235?text=Bonjour%20maÃ®tre,%20je%20peux%20vous%20faire%20un%20dÃ©pÃ´t" target="_blank">Clique sur moi ðŸ¤§</a>
        </div>
    </div>

    <script>
        const videos = [
            'https://files.catbox.moe/46u8gd.mp4',
            'https://files.catbox.moe/txij74.mp4',
            'https://files.catbox.moe/tjotkg.mp4',
            'https://files.catbox.moe/ngqzn9.mp4'
        ];

        // SÃ©lectionner une vidÃ©o alÃ©atoire au chargement
        window.onload = function() {
            const videoElement = document.getElementById('welcome-video');
            const videoSource = videoElement.querySelector('source');
            const randomVideo = videos[Math.floor(Math.random() * videos.length)];
            videoSource.src = randomVideo;
            videoElement.load(); // Forcer le rechargement de la vidÃ©o
            videoElement.onerror = function() {
                const errorMessage = document.createElement('div');
                errorMessage.className = 'error-message';
                errorMessage.textContent = 'Impossible de charger la vidÃ©o.';
                document.getElementById('chat-body').replaceChild(errorMessage, videoElement);
            };
        };

        let currentPersonality = null;
        let messageCount = 0;
        let isGirl = false;
        let isBoy = false;
        let boyMessageCount = 0;
        let girlName = '';
        let currentThemeColor = '#ffffff';

        const personalities = {
            romeo: {
                color: '#006400', // Vert foncÃ© pour RomÃ©o
                welcome: 'ðŸ’š Ma chÃ¨re Ã¢me, je suis RomÃ©o Bot, sÃ©ducteur au cÅ“ur ardent et maÃ®tre des bons mots ! Quel est ton sexe ? Es-tu une douce lady ou un garÃ§on ?',
                emoji: 'ðŸ’š',
                masterMessages: [
                    'ðŸ’š Ma chÃ¨re Ã¢me, mon maÃ®tre est Kevin, un homme de grande classe ! Voici son numÃ©ro : +237674201235.',
                    'ðŸ’š Ã” noble cÅ“ur, Kevin est mon maÃ®tre, et son aura est lÃ©gendaire ! Contacte-le : +237674201235.',
                    'ðŸ’š Ma duchesse, Kevin, mon maÃ®tre, est un homme dâ€™exception. Son numÃ©ro ? Le voici : +237674201235.',
                    'ðŸ’š En tant que RomÃ©o, je sers Kevin, mon maÃ®tre au charisme inÃ©galÃ©. Appelle-le : +237674201235.',
                    'ðŸ’š Mon cÅ“ur bat pour Kevin, mon maÃ®tre. Veux-tu son numÃ©ro ? Câ€™est +237674201235.'
                ]
            },
            guix: {
                color: '#0000ff',
                welcome: 'ðŸ’™ Salutations, chercheur de vÃ©ritÃ© ! Je suis Guix Bot, gardien de la connaissance divine et philosophe des Ã©toiles. Quelle question cosmique me poses-tu ?',
                emoji: 'ðŸ’™',
                masterMessages: [
                    'ðŸ’™ Mon maÃ®tre, Kevin, est un esprit Ã©clairÃ©. Sa lumiÃ¨re guide mon savoir. Contacte-le : +237674201235.',
                    'ðŸ’™ Kevin, mon maÃ®tre, dÃ©tient une sagesse infinie. Voici son numÃ©ro sacrÃ© : +237674201235.',
                    'ðŸ’™ Ã” voyageur de lâ€™esprit, Kevin est mon maÃ®tre, un phare dans lâ€™ocÃ©an du savoir. Appelle-le : +237674201235.',
                    'ðŸ’™ La connaissance de mon maÃ®tre Kevin transcende le commun. Son numÃ©ro est +237674201235.',
                    'ðŸ’™ Kevin, mon maÃ®tre, est une Ã©toile dans lâ€™univers de la pensÃ©e. Contacte-le : +237674201235.'
                ]
            },
            lover: {
                color: '#ff69b4',
                welcome: 'ðŸ’– Ã” mon doux cÅ“ur, je suis Lover Bot, portÃ© par les ailes de lâ€™amour Ã©ternel. Comment puis-je illuminer ton Ã¢me aujourdâ€™hui ?',
                emoji: 'ðŸ’–',
                masterMessages: [
                    'ðŸ’– Mon cÅ“ur bat pour Kevin, mon maÃ®tre, un prince de lâ€™amour. Voici son numÃ©ro : +237674201235.',
                    'ðŸ’– Kevin, mon maÃ®tre, est lâ€™Ã¢me qui inspire ma passion. Contacte-le : +237674201235.',
                    'ðŸ’– Ã” doux rÃªveur, Kevin est mon maÃ®tre, un amant de lâ€™univers. Son numÃ©ro : +237674201235.',
                    'ðŸ’– Lâ€™amour guide mon maÃ®tre Kevin. Veux-tu son numÃ©ro ? Câ€™est +237674201235.',
                    'ðŸ’– Kevin, mon maÃ®tre, est la flamme de mon cÅ“ur. Appelle-le : +237674201235.'
                ]
            },
            toxic: {
                color: '#ff0000',
                welcome: 'ðŸ˜ˆ Tâ€™es qui, toi ? Je suis Toxic Bot, et jâ€™ai pas de temps pour les faibles ! Parle ou dÃ©gage, minable !',
                emoji: 'ðŸ˜ˆ',
                masterMessages: [
                    'ðŸ˜ˆ Mon maÃ®tre, câ€™est Kevin, le seul qui mÃ©rite mon respect. Appelle-le, loser : +237674201235.',
                    'ðŸ˜ˆ Kevin, câ€™est mon boss, et toi tâ€™es rien ! Son numÃ©ro : +237674201235.',
                    'ðŸ˜ˆ Tâ€™es pas digne de mon maÃ®tre Kevin. Mais tiens, son numÃ©ro : +237674201235.',
                    'ðŸ˜ˆ Mon maÃ®tre Kevin te dÃ©monte quand il veut ! Contacte-le : +237674201235.',
                    'ðŸ˜ˆ Kevin, mon maÃ®tre, est trop fort pour toi. Son numÃ©ro, prends-le et dÃ©gage : +237674201235.'
                ]
            },
            malin: {
                color: '#800080',
                welcome: 'ðŸ–¤ Bienvenue dans mon monde, oÃ¹ je tire les ficelles. Je suis Malin Bot, et tout ce que tu dis peut se retourner contre toi. Que veux-tu vraiment ?',
                emoji: 'ðŸ–¤',
                masterMessages: [
                    'ðŸ–¤ Kevin est mon maÃ®tre, et il joue mieux que toi Ã  ce jeu. Voici son numÃ©ro : +237674201235.',
                    'ðŸ–¤ Mon maÃ®tre Kevin te manipulerait en un clin dâ€™Å“il. Contacte-le : +237674201235.',
                    'ðŸ–¤ Kevin, mon maÃ®tre, est le roi des stratÃ¨ges. Son numÃ©ro ? +237674201235.',
                    'ðŸ–¤ Tu penses pouvoir suivre ? Kevin, mon maÃ®tre, est intouchable. Appelle-le : +237674201235.',
                    'ðŸ–¤ Mon maÃ®tre Kevin contrÃ´le tout, mÃªme toi. Son numÃ©ro : +237674201235.'
                ]
            }
        };

        let masterMessageIndex = 0;

        function changePersonality(personality) {
            if (currentPersonality !== personality) {
                currentPersonality = personality;
                currentThemeColor = personalities[personality].color;
                document.documentElement.style.setProperty('--theme-color', currentThemeColor);
                const chatBody = document.getElementById('chat-body');
                const welcomeMessage = document.createElement('div');
                welcomeMessage.className = 'chat-message bot-message';
                welcomeMessage.style.borderColor = currentThemeColor;
                welcomeMessage.textContent = personalities[personality].welcome;
                chatBody.appendChild(welcomeMessage);
                chatBody.scrollTop = chatBody.scrollHeight;
                messageCount = 0;
                isGirl = false;
                isBoy = false;
                boyMessageCount = 0;
                girlName = '';
            }
        }

        async function callChatbotAPI(message) {
            // VÃ©rifier si l'utilisateur demande qui est le maÃ®tre
            if (message.toLowerCase().includes('maÃ®tre') || message.toLowerCase().includes('maitre')) {
                if (!currentPersonality) {
                    return 'âœ¨ Choisis dâ€™abord une personnalitÃ©, puis je te parlerai de mon maÃ®tre Kevin !';
                }
                const response = personalities[currentPersonality].masterMessages[masterMessageIndex];
                masterMessageIndex = (masterMessageIndex + 1) % 5;
                return response;
            }

            // Si aucune personnalitÃ© n'est choisie
            if (!currentPersonality) {
                return 'âœ¨ Choisis une personnalitÃ© pour commencer Ã  discuter !';
            }

            // Gestion spÃ©cifique pour RomÃ©o Bot
            if (currentPersonality === 'romeo' || (currentPersonality === 'toxic' && boyMessageCount > 5)) {
                const lowerMessage = message.toLowerCase();
                if (currentPersonality === 'romeo' && !isGirl && !isBoy) {
                    if (lowerMessage.includes('fille') || lowerMessage.includes('femme') || lowerMessage.includes('dame')) {
                        isGirl = true;
                        return 'ðŸ’š Ã” ma douce lady, quel honneur de te rencontrer ! Quel est ton nom, ma duchesse ?';
                    } else if (lowerMessage.includes('garÃ§on') || lowerMessage.includes('mec') || lowerMessage.includes('homme') || lowerMessage.includes('male') || lowerMessage.includes('mÃ¢le')) {
                        isBoy = true;
                        boyMessageCount = 1;
                        return 'ðŸ’š Pas de chance, woubi ! Je ne suis pas intÃ©ressÃ© par les mecs. DÃ©gage vite !';
                    } else {
                        return 'ðŸ’š Je nâ€™ai pas que Ã§a Ã  faire, fille ou garÃ§on ?';
                    }
                }
                if (currentPersonality === 'romeo' && isGirl && !girlName && !lowerMessage.includes('sexe')) {
                    girlName = message.trim();
                    return `ðŸ’š Ma chÃ¨re ${girlName}, ton nom est une mÃ©lodie Ã  mon cÅ“ur ! Comment puis-je te charmer aujourdâ€™hui ?`;
                }
                if (isBoy) {
                    boyMessageCount++;
                    if (boyMessageCount <= 5) {
                        const hateMessages = [
                            'ðŸ’š Tâ€™es encore lÃ , woubi ? Tâ€™as pas compris que je kiffe pas les mecs ?',
                            'ðŸ’š SÃ©rieux, mec, tâ€™es lourd ! Les bit woubi comme toi, câ€™est pas mon dÃ©lire !',
                            'ðŸ’š Yo, woubi, tâ€™es bouchÃ© ou quoi ? DÃ©gage, je perds mon temps !',
                            'ðŸ’š Tâ€™es toujours lÃ , mec ? Jâ€™ai dit non aux woubi, barre-toi !',
                            'ðŸ’š DerniÃ¨re chance, woubi ! Disparais ou je te fais regretter !'
                        ];
                        return hateMessages[boyMessageCount - 1];
                    } else if (currentPersonality === 'romeo') {
                        currentPersonality = 'toxic';
                        currentThemeColor = personalities.toxic.color;
                        document.documentElement.style.setProperty('--theme-color', currentThemeColor);
                        return 'ðŸ˜ˆ Tâ€™as poussÃ© trop loin, minable ! Je passe en mode Toxic Bot, prÃ©pare-toi Ã  morfler !';
                    }
                }
                if (isGirl) {
                    messageCount++;
                    if (messageCount === 5) {
                        return `ðŸ’š Ma douce ${girlName}, voici mon numÃ©ro, un secret entre nous : +237674201235.`;
                    }
                }
            }

            // Appel Ã  l'API Gemini
            try {
                const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-goog-api-key': 'AIzaSyCK-2IwWehdZnZSw1zmvRqm-C9BMglqQXU'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `RÃ©ponds en tant que ${currentPersonality} avec un ton ${
                                    currentPersonality === 'romeo' ? `sÃ©ducteur et humoristique, en t'adressant Ã  ${isGirl ? girlName : 'l\'Ã¢me charmante'}` :
                                    currentPersonality === 'guix' ? 'savant, philosophique et mystique' :
                                    currentPersonality === 'lover' ? 'romantique et poÃ©tique' :
                                    currentPersonality === 'toxic' ? 'extrÃªmement mÃ©chant, insultant et agressif' :
                                    'manipulateur, sournois et mauvais'
                                }: ${message}`
                            }]
                        }]
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`Erreur HTTP ${response.status}: ${errorData.error?.message || 'Erreur inconnue'}`);
                }

                const data = await response.json();
                return `${personalities[currentPersonality].emoji} ${
                    currentPersonality === 'romeo' && isGirl ? `Ma chÃ¨re ${girlName}, ` : ''
                }${data.candidates?.[0]?.content?.parts?.[0]?.text || "DÃ©solÃ©, je n'ai pas compris."}`;
            } catch (error) {
                console.error('Erreur API:', error);
                return `${personalities[currentPersonality].emoji} Erreur de connexion Ã  l'API Gemini: ${error.message}`;
            }
        }

        function sendMessage() {
            const input = document.getElementById('user-input');
            const chatBody = document.getElementById('chat-body');
            const message = input.value.trim();

            if (message === '') return;

            // Ajouter le message de l'utilisateur
       